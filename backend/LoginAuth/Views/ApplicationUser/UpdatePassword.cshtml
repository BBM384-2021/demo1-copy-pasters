@model LoginAuth.Models.ViewModels.ApplicationUserUpdatePasswordViewModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
 
<h3>Forgot my password.</h3>
 
<hr />
@if (ViewBag.State == null)
{
    <form asp-action="UpdatePassword">
        <table>
            <tr>
                <td colspan="3"><div asp-validation-summary="All"></div></td>
            </tr>
            <tr>
                <td><label asp-for="Password"></label></td>
                <td><input asp-for="Password" /></td>
                <td><span asp-validation-for="Password"></span></td>
            </tr>
            <tr>
                <td colspan="3"><input type="submit" value="Update password" /></td>
            </tr>
        </table>
    </form>
}
else
{
    if (ViewBag.State)
    {
        @:<div class="alert-success">Password has changed.</div>
    }
    else
    {
        @:<div class="alert-success">Password could not be changed.</div>
        ViewBag.State = null;
    }
}